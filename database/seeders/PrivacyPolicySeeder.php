<?php

namespace Database\Seeders;

use App\Models\PrivacyPolicy;
use Illuminate\Database\Seeder;
use Illuminate\Support\Carbon;

class PrivacyPolicySeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $summary = [
            'توضح سياسة الخصوصية هذه بالتفصيل كيفية جمع واستخدام وحماية معلوماتك الشخصية عند استخدامك لمنصتنا العالمية.',
            'نحن ملتزمون التزاماً كاملاً بحماية خصوصيتك وضمان أمان بياناتك بما يتوافق مع أفضل الممارسات والمعايير الدولية.',
            'باستخدام خدماتنا، فإنك تقر بقراءة وفهم هذه السياسة وتوافق على الممارسات الموضحة فيها.',
            'تهدف هذه السياسة إلى تمكينك من اتخاذ قرارات مستنيرة بشأن بياناتك الشخصية.',
        ];

        $sections = [
            [
                'title' => 'مقدمة',
                'content' => [
                    'أهلاً بك في سياسة الخصوصية لمنصتنا العالمية.',
                    'تهدف هذه الوثيقة إلى توفير معلومات شفافة ومفصلة حول البيانات التي نجمعها، الأساس القانوني لجمعها، كيفية استخدامنا لها، ومع من نشاركها.',
                    'خصوصيتك هي أولويتنا القصوى، ونحن نشجعك على قراءة هذه السياسة بعناية لفهم حقوقك وممارساتنا.',
                ],
            ],
            [
                'title' => 'المعلومات التي نجمعها',
                'content' => [
                    'نقوم بجمع أنواع مختلفة من المعلومات لتوفير وتحسين خدماتنا لك بشكل فعال.',
                    'معلومات التعريف الشخصية: الاسم الكامل، البريد الإلكتروني، رقم الهاتف، تاريخ الميلاد.',
                    'بيانات الحساب: اسم المستخدم، كلمة المرور المشفرة، تفضيلات المستخدم.',
                    'بيانات الاستخدام التقنية: عناوين IP، نوع المتصفح، نظام التشغيل، معرفات الأجهزة.',
                    'بيانات التفاعل: الصفحات التي تزورها، الميزات التي تستخدمها، مدة الجلسات.',
                    'بيانات المحتوى التعليمي: التقدم في الدورات، الواجبات، الدرجات، الشهادات.',
                    'ملفات تعريف الارتباط (Cookies): لتحسين تجربتك وتخصيص المحتوى.',
                ],
            ],
            [
                'title' => 'كيفية استخدامنا لمعلوماتك',
                'content' => [
                    'تُستخدم المعلومات التي نجمعها للأغراض التالية:',
                    'تشغيل وصيانة وتحسين خدماتنا التعليمية.',
                    'تخصيص تجربتك التعليمية وتكييف المحتوى ليناسب احتياجاتك.',
                    'التواصل معك بشأن تحديثات الخدمة، الإعلانات الهامة، والدعم الفني.',
                    'تحليل الاستخدام ومراقبة أداء المنصة لتحسينها وتطوير ميزات جديدة.',
                    'فرض شروط الاستخدام الخاصة بنا ومنع الأنشطة الاحتيالية أو غير القانونية.',
                    'الامتثال للالتزامات القانونية والتنظيمية.',
                ],
            ],
            [
                'title' => 'الأساس القانوني للمعالجة',
                'content' => [
                    'نقوم بمعالجة بياناتك الشخصية بناءً على الأسس القانونية التالية:',
                    'الموافقة: عندما تمنحنا موافقة صريحة لمعالجة بياناتك لغرض معين.',
                    'العقد: عندما تكون المعالجة ضرورية لتنفيذ عقدنا معك (مثل تقديم الخدمات التي اشتركت بها).',
                    'الالتزام القانوني: عندما تكون المعالجة ضرورية للامتثال لالتزام قانوني نخضع له.',
                    'المصلحة المشروعة: عندما تكون المعالجة ضرورية لمصالحنا المشروعة، شريطة ألا تتجاوز مصالحك وحقوقك الأساسية.',
                ],
            ],
            [
                'title' => 'مشاركة البيانات',
                'content' => [
                    'نحن لا نبيع أو نؤجر بياناتك الشخصية لأطراف ثالثة.',
                    'قد نشارك معلوماتك في الحالات التالية:',
                    'مع مزودي الخدمات الموثوقين الذين يساعدوننا في تشغيل المنصة (مثل خدمات الاستضافة السحابية، معالجة الدفع، تحليلات البيانات).',
                    'مع المعلمين والمسؤولين التعليميين ضمن مؤسستك لأغراض تعليمية وإدارية.',
                    'عند الاقتضاء بموجب القانون أو استجابة لطلب قانوني صالح من السلطات الحكومية.',
                    'في حالة اندماج أو استحواذ أو بيع أصول الشركة، مع ضمان حماية بياناتك.',
                ],
            ],
            [
                'title' => 'أمن البيانات',
                'content' => [
                    'نحن نطبق تدابير أمنية تقنية وتنظيمية متقدمة لحماية بياناتك من الوصول غير المصرح به، التغيير، الكشف، أو الإتلاف.',
                    'تشمل هذه التدابير تشفير البيانات، التحكم في الوصول، ومراجعات أمنية منتظمة.',
                    'ومع ذلك، لا توجد طريقة نقل عبر الإنترنت أو تخزين إلكتروني آمنة بنسبة 100%، ولكننا نسعى جاهدين لاستخدام وسائل مقبولة تجاريًا لحماية معلوماتك.',
                ],
            ],
            [
                'title' => 'حقوق المستخدم',
                'content' => [
                    'لديك حقوق معينة فيما يتعلق ببياناتك الشخصية، وتشمل:',
                    'الحق في الوصول إلى معلوماتك الشخصية.',
                    'الحق في تصحيح البيانات غير الدقيقة أو غير المكتملة.',
                    'الحق في حذف بياناتك (في ظروف معينة).',
                    'الحق في تقييد معالجة بياناتك.',
                    'الحق في قابلية نقل البيانات.',
                    'الحق في الاعتراض على معالجة بياناتك.',
                    'يمكنك ممارسة هذه الحقوق من خلال إعدادات حسابك أو عن طريق الاتصال بنا مباشرة.',
                ],
            ],
            [
                'title' => 'الاحتفاظ بالبيانات',
                'content' => [
                    'نحتفظ ببياناتك الشخصية طالما كان ذلك ضرورياً لتحقيق الأغراض التي تم جمعها من أجلها، بما في ذلك لأغراض تلبية أي متطلبات قانونية أو محاسبية أو إعداد تقارير.',
                    'سيتم تحديد فترة الاحتفاظ بناءً على كمية وطبيعة وحساسية البيانات.',
                ],
            ],
            [
                'title' => 'خصوصية الأطفال',
                'content' => [
                    'تم تصميم منصتنا للمستخدمين الذين تزيد أعمارهم عن 13 عامًا.',
                    'نحن لا نجمع عن قصد معلومات شخصية من الأطفال دون سن 13 عامًا.',
                    'إذا علمنا أننا جمعنا بيانات شخصية من طفل دون موافقة الوالدين، فسنتخذ خطوات لحذف تلك المعلومات في أقرب وقت ممكن.',
                ],
            ],
            [
                'title' => 'روابط الطرف الثالث',
                'content' => [
                    'قد تحتوي خدمتنا على روابط لمواقع أخرى لا يتم تشغيلها من قبلنا.',
                    'إذا قمت بالنقر فوق ارتباط جهة خارجية، فسيتم توجيهك إلى موقع تلك الجهة الخارجية.',
                    'ننصحك بشدة بمراجعة سياسة الخصوصية لكل موقع تزوره.',
                    'ليس لدينا أي سيطرة ولا نتحمل أي مسؤولية عن المحتوى أو سياسات الخصوصية أو الممارسات الخاصة بأي مواقع أو خدمات خاصة بطرف ثالث.',
                ],
            ],
            [
                'title' => 'التغييرات على سياسة الخصوصية',
                'content' => [
                    'قد نقوم بتحديث سياسة الخصوصية الخاصة بنا من وقت لآخر.',
                    'سنقوم بإعلامك بأي تغييرات عن طريق نشر السياسة الجديدة على هذه الصفحة وتحديث تاريخ "آخر تحديث".',
                    'يُنصح بمراجعة هذه السياسة بشكل دوري للاطلاع على أي تغييرات.',
                    'استمرار استخدامك للخدمة بعد نشر التغييرات يعتبر قبولاً لها.',
                ],
            ],
            [
                'title' => 'الاتصال بنا',
                'content' => [
                    'إذا كان لديك أي أسئلة حول سياسة الخصوصية هذه، يمكنك الاتصال بنا عبر البريد الإلكتروني: privacy@example.com',
                    'أو من خلال صفحة الاتصال على موقعنا.',
                ],
            ],
        ];

        PrivacyPolicy::updateOrCreate(
            ['version' => '1.1.0'],
            [
                'last_updated' => Carbon::now(),
                'summary_json' => json_encode($summary, JSON_UNESCAPED_UNICODE),
                'sections_json' => json_encode($sections, JSON_UNESCAPED_UNICODE),
                'is_active' => true,
            ]
        );
    }
}
